= Deployment =

=== Overview ===

The simples setup is a cluster with one of each subsystem. <<#example-pipeline>> illustrates this setup.

[#deployment-example-setup-a]
.Example cluster setup with one Manager, one Frontier and one Agent.
[ditaa]
....

            /----------\         /----------\                         /-------\
            |          |-------->|          |------------------------>|       |
User ------>|  Manager |  http   | Frontier |            tcp          | Agent |
            |          |<--------|          |<------------------------|       |
            \----------/         \----------/                         \-------/
                                     ^  |
                                     |  |
                                     |  v
                                   /------\
                                   |{s}   |
                                   |  DB  |
                                   |      |
                                   \------/
....

[#deployment-example-setup-b]
.Example cluster setup with one Manager, one Frontier and three Agents.
[ditaa]
....

                                                       /-------\
                                     +-----------------|       |<----------+
                                     |                 | Agent |           |
                                     |  +------------->|       |--------+  |
                                     |  |              \-------/        |  |
                                     |  |                 |  ^          |  |
                                     |  |                 |  |          |  |
                                     |  |                 |  |          |  |
                                     |  |                 |  |          |  |
                                     v  |                 |  |          v  |
            /----------\        /-----------\             |  |        /-------\
            |          |------->|           |-------------|  |------->|       |
User ------>|  Manager |        |  Frontier |             |  |        | Agent |
            |          |<-------|           |<------------|  |--------|       |
            \----------/        \-----------/             |  |        \-------/
                                 ^  |   |  |              |  |          ^  |
                                 |  |   |  |              |  |          |  |
                                 |  |   |  |              |  |          |  |
                                 |  v   |  |              |  |          |  |
                               /------\ |  |              v  |          |  |
                               |{s}   | |  |           /-------\        |  |
                               |  DB  | |  +---------->|       |--------+  |
                               |      | |              | Agent |           |
                               \------/ +--------------|       |<----------+
                                                       \-------/

....

//include::../keyscore-frontier/doc/deployment.adoc[leveloffset=2]
//include::../keyscore-agent/doc/deployment.adoc[leveloffset=2]
//include::../keyscore-manager/doc/deployment.adoc[leveloffset=2]